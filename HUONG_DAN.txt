HƯỚNG DẪN SỬ DỤNG CÔNG CỤ DỊCH MÀN HÌNH THỜI GIAN THỰC
Tác giả: trchicuong

1. CÀI ĐẶT

BƯỚC 1: Cài đặt Tesseract OCR (BẮT BUỘC)
   • Windows: Tải từ https://github.com/UB-Mannheim/tesseract/wiki
   • macOS: brew install tesseract
   • Linux: sudo apt-get install tesseract-ocr (Ubuntu/Debian) hoặc sudo dnf install tesseract (Fedora)
   • Nếu không tự tìm thấy → Dùng nút "Duyệt" trong tab "Cài Đặt" để chọn đường dẫn

BƯỚC 2: Dữ liệu ngôn ngữ (Nếu cần)
   • Với ngôn ngữ không phải tiếng Anh (Nhật, Hàn, Trung...):
   • Windows: Tải từ https://github.com/tesseract-ocr/tessdata, đặt vào C:\\Program Files\\Tesseract-OCR\\tessdata\\
   • macOS/Linux: sudo apt-get install tesseract-ocr-jpn (ví dụ tiếng Nhật) hoặc brew install tesseract-lang

BƯỚC 3: Chạy công cụ
   • Chạy file RealTimeScreenTranslator.exe
   • Nếu có cảnh báo Windows → "Run anyway"
   • Đợi 5-10s để công cụ khởi động

2. BẮT ĐẦU SỬ DỤNG

BƯỚC 1: Chọn vùng chụp màn hình
   1. Mở ứng dụng/game cần dịch
   2. Tab "Cài Đặt" → Nhấn "Chọn Vùng"
   3. Kéo chuột chọn vùng hộp thoại → Thả chuột để xác nhận
   
   ⚠️ LƯU Ý: Chọn chính xác vùng hộp thoại, vùng nhỏ hơn = dịch nhanh hơn

BƯỚC 2: Cấu hình cài đặt (Tab "Cài Đặt")
   1. NGÔN NGỮ NGUỒN: Chọn ngôn ngữ của văn bản trong ứng dụng
   
   2. KHOẢNG THỜI GIAN CẬP NHẬT:
      - 100-200ms: Game (nhanh, tốn CPU)
      - 200-300ms: Ứng dụng thường (cân bằng)
      - Preset sẽ tự động cập nhật giá trị này
   
   3. ENGINE OCR:
      - Tesseract: Mặc định, nhanh, CPU thấp (dùng cho nhu cầu phổ thông)
      - EasyOCR: Chính xác hơn, CPU-only mode (khuyến nghị cho game AAA với text nhỏ/phức tạp)
      - Nếu Tesseract không tự tìm thấy → Dùng nút "Duyệt" để chọn
   
   4. EASYOCR MODE (chỉ khi chọn EasyOCR):
      - CPU-only mode (tối ưu nhất cho real-time gaming)
      - Không dùng GPU vì CPU performance ổn định và tốt hơn cho gaming subtitle
   
   4a. EASYOCR MULTI-SCALE (chỉ khi chọn EasyOCR):
      - Tăng độ chính xác nhưng chậm hơn 2-3 lần
      - Không khuyến nghị cho gaming (dùng cho static images/documents)
   
   4b. TESSERACT OPTIONS (chỉ khi chọn Tesseract):
      - Multi-scale: Tăng độ chính xác, chậm hơn 1.5-2 lần (không khuyến nghị cho gaming)
      - Text Region Detection: Phát hiện vùng text trước (hữu ích với ảnh phức tạp, chậm hơn ~10-30ms)
   
   5. NGÔN NGỮ ĐÍCH: Chọn ngôn ngữ muốn dịch sang
   
   6. DỊCH VỤ DỊCH THUẬT:
      - Google Translate: Miễn phí, nhanh
      - DeepL: Chất lượng cao, cần API key (https://www.deepl.com/pro-api)
   
   7. DEEPL CONTEXT WINDOW (chỉ khi chọn DeepL):
      - Số subtitle trước đó dùng làm ngữ cảnh (0-3, mặc định: 2)
      - Giúp dịch hội thoại chính xác hơn

BƯỚC 3: Tùy chỉnh giao diện (Tab "Giao Diện Dịch")
   1. CẤU HÌNH NHANH (PRESET):
      - "Tối Ưu Tốc Độ": Game có hội thoại nhanh
      - "Cân Bằng": Hầu hết game/ứng dụng
      - "Tối Ưu Chất Lượng": Cần đọc kỹ, text phức tạp
      - ⚠️ Nhấn "Áp Dụng" sau khi chọn preset
   
   2. TÙY CHỈNH THỦ CÔNG: Font, màu sắc, kích thước, độ trong suốt, căn lề, v.v.
   
   3. NÚT ĐIỀU KHIỂN:
      - "Áp Dụng": Áp dụng cài đặt
      - "Đặt Lại Tất Cả": Reset về mặc định (KHÔNG reset vùng chụp, engine OCR, dịch vụ, DeepL key)

BƯỚC 4: Bắt đầu dịch (Tab "Điều Khiển")
   1. Nhấn "Bắt Đầu Dịch"
   2. Màn hình dịch xuất hiện, văn bản được dịch tự động
   3. Công cụ tự động xử lý nhiều hộp thoại liên tiếp

BƯỚC 5: Sử dụng màn hình dịch
   • DI CHUYỂN: Kéo thả màn hình dịch
   • THAY ĐỔI KÍCH THƯỚC: Kéo cạnh/góc
   • CUỘN: Cuộn lên/xuống nếu văn bản dài
   • KHÓA: Tích "Khóa màn hình dịch" trong tab "Điều Khiển" để tránh di chuyển nhầm
   • TỰ ĐỘNG LƯU: Vị trí và kích thước được lưu tự động

3. MẸO SỬ DỤNG

   • PRESET: 
     - "Tối Ưu Tốc Độ": Game có hội thoại nhanh (Tesseract, 100ms scan, lime green)
     - "Cân Bằng": Hầu hết game/ứng dụng (khuyến nghị - EasyOCR CPU-only, 150ms scan, white)
     - "Tối Ưu Chất Lượng": Cần đọc kỹ, text phức tạp (EasyOCR, 200ms scan, soft white)
   
   • CHỌN VÙNG: Chọn chính xác vùng hộp thoại, vùng nhỏ hơn = dịch nhanh hơn
   
   • ENGINE OCR: 
     - Tesseract: Nhanh, CPU thấp, tốt cho text rõ ràng
     - EasyOCR: Chính xác hơn cho Nhật/Hàn/Trung, CPU-only mode tối ưu cho gaming
     - Multi-scale/Text Region: Tắt cho gaming (chỉ bật khi text rất nhỏ/mờ)
   
   • DỊCH VỤ: 
     - Google Translate: Miễn phí, ổn định, nhanh
     - DeepL: Chất lượng cao (có phí), Context Window = 2 (khuyến nghị cho RPG/dialogue dài)
   
   • TỐI ƯU: 
     - Tắt hiển thị văn bản gốc
     - Dùng font đơn giản (Arial, Helvetica)
     - Giảm độ trong suốt nếu cần
     - Khóa màn hình dịch khi chơi game

4. XỬ LÝ SỰ CỐ

   • OCR KHÔNG HOẠT ĐỘNG:
     - Kiểm tra Tesseract đã cài đúng → Dùng nút "Duyệt" để chọn đường dẫn
     - Thử chuyển sang EasyOCR
     - Kiểm tra ngôn ngữ nguồn đã chọn đúng
   
   • DỊCH KHÔNG HOẠT ĐỘNG:
     - Kiểm tra kết nối internet
     - Nếu dùng DeepL: Kiểm tra API key
     - Thử chuyển sang Google Translate
   
   • DỊCH SAI:
     - Thử thay đổi ngôn ngữ nguồn
     - Thử chuyển engine OCR (Tesseract ↔ EasyOCR)
     - Đảm bảo văn bản rõ ràng, không mờ
   
   • CHẬM HOẶC LAG:
     - Dùng preset "Cân Bằng" hoặc "Tối Ưu Tốc Độ"
     - Chọn vùng chụp nhỏ hơn (chỉ vùng subtitle, không cần toàn bộ hộp thoại)
     - Tắt hiển thị văn bản gốc
     - EasyOCR: CPU-only mode (tối ưu cho gaming, performance ổn định ~6-7 FPS)
     - Tesseract: Nhanh hơn EasyOCR (~10-20 FPS) nhưng kém chính xác hơn
     - Tắt Multi-scale và Text Region Detection (không cần cho gaming)
     - Tăng khoảng thời gian cập nhật (150ms → 200ms hoặc 300ms)
   
   • MÀN HÌNH DỊCH KHÔNG HIỂN THỊ:
     - Kiểm tra không bị di chuyển ra ngoài màn hình
     - Dừng và khởi động lại dịch
     - Nhấn "Đặt Lại Tất Cả" để reset vị trí
     - Đảm bảo tỷ lệ hiển thị Windows là 100%
   
   • XEM CHI TIẾT: Tab "Trạng Thái" hoặc file error_log.txt

5. LƯU Ý QUAN TRỌNG

   • Cần kết nối internet để dịch (Google Translate/DeepL API)
   • Chất lượng dịch phụ thuộc: Độ rõ văn bản, tương phản nền, font, độ chính xác OCR
   • CPU-only mode: EasyOCR không dùng GPU vì CPU performance tốt hơn cho real-time gaming
   • Cache: Translation cache lưu trong memory (max 1000 entries), mất khi thoát app
   • Tất cả cài đặt được tự động lưu vào config.json
   • Nút "Đặt Lại Tất Cả" KHÔNG reset: Vùng chụp, Engine OCR, Dịch vụ, DeepL key

6. NGÔN NGỮ ĐƯỢC HỖ TRỢ

   NGÔN NGỮ NGUỒN (OCR): Anh, Nhật, Hàn, Trung (Giản thể/Phồn thể), Pháp, Đức, Tây Ban Nha
   
   NGÔN NGỮ ĐÍCH: Việt, Anh, Nhật, Hàn, Trung, Pháp, Đức, Tây Ban Nha

7. CÁC TAB TRONG CÔNG CỤ

   TAB 1: CÀI ĐẶT - Chọn vùng, ngôn ngữ, engine OCR, dịch vụ, cấu hình OCR
   
   TAB 2: GIAO DIỆN DỊCH - Preset nhanh, tùy chỉnh font/màu/kích thước
   
   TAB 3: ĐIỀU KHIỂN - Bắt đầu/Dừng dịch, khóa màn hình dịch
   
   TAB 4: PHÍM TẮT - Cấu hình phím tắt toàn cục cho các thao tác nhanh
   
   TAB 5: TRẠNG THÁI - Nhật ký hoạt động, lỗi, cảnh báo
   
   TAB 6: HƯỚNG DẪN - Hướng dẫn sử dụng đầy đủ (tab này)

8. PHÍM TẮT TOÀN CỤC (HOTKEYS)

Công cụ hỗ trợ phím tắt toàn cục để thao tác nhanh ngay cả khi đang chơi game/dùng ứng dụng khác.

   PHÍM TẮT MẶC ĐỊNH:
   • Ctrl+Alt+S: Bắt đầu/Dừng dịch
   • Ctrl+Alt+P: Tạm dừng/Tiếp tục dịch
   • Ctrl+Alt+C: Xóa lịch sử dịch
   • Ctrl+Alt+O: Ẩn/Hiện màn hình dịch
   • Ctrl+Alt+R: Chọn vùng chụp mới
   • Ctrl+Alt+L: Khóa/Mở khóa màn hình dịch
   
   TÙY CHỈNH PHÍM TẮT (Tab "Phím Tắt"):
   1. Tích "Bật phím tắt toàn cục" để bật/tắt
   2. Nhập phím tắt mới vào ô tương ứng (ví dụ: <ctrl>+<shift>+t)
   3. Nhấn Enter hoặc click ra ngoài để lưu
   4. Nhấn "Áp Dụng" để áp dụng tất cả thay đổi
   5. Nhấn "Khôi Phục Mặc Định" để reset về phím tắt mặc định
   
   QUY TẮC ĐỊNH DẠNG:
   • Phải có ít nhất 1 phím modifier (Ctrl, Alt, Shift, Win)
   • Định dạng: <ctrl>+<alt>+s hoặc <shift>+f1
   • Phím modifier: <ctrl>, <alt>, <shift>, <win>
   • Phím thường: a-z, 0-9, f1-f12
   
   ⚠️ LƯU Ý:
   • Tránh dùng phím tắt trùng với game/ứng dụng
   • Phím tắt hoạt động ngay cả khi ứng dụng không được focus
   • Nếu phím tắt không hoạt động, thử tắt/bật lại trong tab "Phím Tắt"

Chúc bạn sử dụng công cụ hiệu quả!